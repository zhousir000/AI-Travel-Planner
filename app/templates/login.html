{% extends "auth_base.html" %}

{% block title %}登录 - AI Travel Planner{% endblock %}

{% block content %}
  <header class="auth-card__header">
    <h2>账户登录</h2>
    <p class="muted">输入账号即可继续查询历史计划或创建新的旅行方案。</p>
  </header>
  <form
    id="loginForm"
    class="auth-form"
    data-auth-form
    data-mode="login"
    data-flash-message="{{ flash_message or '' }}"
    data-prefill-email="{{ prefill_email or '' }}"
    novalidate
  >
    <div class="form-field">
      <label for="loginEmail">用户名/邮箱</label>
      <input
        id="loginEmail"
        name="email"
        type="email"
        inputmode="email"
        autocomplete="username"
        required
        placeholder="you@example.com"
      />
      <p class="field-error" data-error-for="email" id="loginEmailError" aria-live="polite"></p>
    </div>
    <div class="form-field">
      <label for="loginPassword">密码</label>
      <input
        id="loginPassword"
        name="password"
        type="password"
        autocomplete="current-password"
        required
        minlength="6"
        placeholder="******"
      />
      <p class="field-error" data-error-for="password" id="loginPasswordError" aria-live="polite"></p>
    </div>
    <button type="submit" class="primary-btn" data-submit data-loading-text="登录中...">登录</button>
    <p class="status-message" id="formFeedback" role="status" aria-live="polite"></p>
  </form>
  <p class="auth-switch">
    还没注册？
    <a class="text-link" href="{{ url_for('register_page') }}" id="goToRegisterLink">去注册</a>
  </p>
{% endblock %}
